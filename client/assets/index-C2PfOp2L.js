const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CsHoBiPT.js","./vendor-Dobm3Lbi.js","./vendor-snLqE2gL.css","./TransactionUtils-BlVV5WVC.js","./ApiBase-DjuaOdbS.js","./NumberUtils-DGiqd6yw.js","./index-CDbpgH3a.css","./index-DjYs8UHF.js","./index-BYQDiHvy.js","./index-C9f28ajL.js","./index-RR0uIUn3.js","./index-Dw3gyt_E.css","./index-DDTJjQTB.js"])))=>i.map(i=>d[i]);
import{j as e,R as O,T as w,u as A,a as b,C as g,S as N,M as k,t as L,r as i,O as P,b as R,c as T,L as C,N as I,d as G,e as Q,f as U,g as D,h as q,Q as z,i as H,k as M,l as B,m as F,n as Y,o as $,p as K}from"./vendor-Dobm3Lbi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const V="modulepreload",W=function(s,t){return new URL(s,t).href},S={},y=function(t,r,c){let n=Promise.resolve();if(r&&r.length>0){let l=function(a){return Promise.all(a.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const u=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),j=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));n=l(r.map(a=>{if(a=W(a,c),a in S)return;S[a]=!0;const p=a.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(!!c)for(let m=u.length-1;m>=0;m--){const x=u[m];if(x.href===a&&(!p||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":V,p||(d.as="script"),d.crossOrigin="",d.href=a,j&&d.setAttribute("nonce",j),document.head.appendChild(d),p)return new Promise((m,x)=>{d.addEventListener("load",m),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return n.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},J=[{key:"/",label:"Home"},{key:"/transactions",label:"Transactions"},{key:"/summary",label:"Year End Summary"},{key:"settings",label:"Settings",icon:e.jsx(O,{}),children:[{key:"/settings/source",label:"Source"},{key:"/settings/categories",label:"Categories"}]}],{Link:X}=w,Z=()=>{const s=A(),t=r=>{s(r.key)};return e.jsxs(b,{style:{flexFlow:"nowrap",height:"64px"},children:[e.jsx(g,{span:2,children:e.jsx(X,{href:"/",style:{marginLeft:"-50px"},children:e.jsx(N,{children:e.jsx("img",{draggable:"false",src:"/brand-dark-no-border.png",alt:"logo",style:{width:"160px",height:"57px"}})})})}),e.jsx(g,{span:18,children:e.jsx(k,{theme:"dark",mode:"horizontal",onClick:t,defaultSelectedKeys:["home"],items:J})})]})},ee=()=>e.jsx(Z,{}),te=()=>{const{token:{colorBgContainer:s,borderRadiusLG:t}}=L.useToken();return e.jsx(b,{align:"middle",wrap:!1,children:e.jsx(g,{span:24,style:{background:s,padding:24,borderRadius:t,minHeight:"calc(100vh - 135px)"},children:e.jsx(i.Suspense,{fallback:e.jsx(R,{fullscreen:!0,indicator:e.jsx(T,{style:{fontSize:48},spin:!0})}),children:e.jsx(P,{})})})})},se=()=>e.jsxs(e.Fragment,{children:["Made with ",e.jsx("span",{style:{color:"#fff"},children:"❤"})," by ",e.jsx("a",{href:"https://github.com/nishant-labs/my-expense",children:"nishant-labs"})]}),{Header:re,Content:ne,Footer:oe}=C,ie={},ae={minHeight:"calc(100vh - 135px)"},ce={textAlign:"center",color:"#rgba(0,0,0,0.65)",backgroundColor:"#f0f3fa"},le={width:"100vw"},ue=()=>e.jsxs(C,{style:le,children:[e.jsx(re,{style:ie,children:e.jsx(ee,{})}),e.jsx(ne,{style:ae,children:e.jsx(te,{})}),e.jsx(oe,{style:ce,children:e.jsx(se,{})})]}),de=()=>e.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"display-1 fw-bold",children:"404"}),e.jsxs("p",{className:"fs-3",children:[e.jsx("span",{className:"text-danger",children:"Opps!"})," Page not found."]}),e.jsx("p",{className:"lead",children:"The page you’re looking for doesn’t exist."}),e.jsx(I,{to:"/",className:"btn btn-primary",children:"Go Home"})]})}),pe=i.lazy(()=>y(()=>import("./index-CsHoBiPT.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),fe=i.lazy(()=>y(()=>import("./index-DjYs8UHF.js"),__vite__mapDeps([7,1,2]),import.meta.url)),he=i.lazy(()=>y(()=>import("./index-BYQDiHvy.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url)),me=i.lazy(()=>y(()=>import("./index-C9f28ajL.js"),__vite__mapDeps([9,1,2,5,10,11,4]),import.meta.url)),ye=i.lazy(()=>y(()=>import("./index-DDTJjQTB.js"),__vite__mapDeps([12,1,2,10,11,4]),import.meta.url)),xe=G([{path:"/",element:e.jsx(ue,{}),errorElement:e.jsx(de,{}),children:[{index:!0,path:"/",element:e.jsx(pe,{})},{path:"/summary",element:e.jsx(fe,{})},{path:"/transactions",element:e.jsx(he,{})},{path:"/settings/categories",element:e.jsx(me,{})},{path:"/settings/source",element:e.jsx(ye,{})}]}]),ge=()=>e.jsx(Q,{router:xe});class je extends i.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,r){console.error("Crash:",t,r)}render(){const{children:t}=this.props,{error:r}=this.state;if(r){const c=this.props.fallback||"Oops, something went wrong";return e.jsx("div",{children:c})}return t}}const Se=e.jsx(R,{fullscreen:!0,indicator:e.jsx(T,{style:{fontSize:48},spin:!0})}),Ee=({fallback:s,errorFallback:t,children:r})=>e.jsx(i.Suspense,{fallback:s||Se,children:e.jsx(je,{fallback:t,children:r})}),v=(s,t="Something went wrong!")=>class extends i.Component{render(){return e.jsx(Ee,{errorFallback:t,children:e.jsx(s,{...this.props})})}},E={TRANSACTIONS:"/api/transactions/",SOURCE_SETTINGS:"/api/settings/sources",CATEGORY_SETTINGS:"/api/settings/categories"},_={TRANSACTIONS:["transactions"],SOURCE_SETTINGS:["settings","sources"],CATEGORY_SETTINGS:["settings","categories"]};function _e(){const s=U();return i.useEffect(()=>{s.prefetchQuery({queryKey:_.SOURCE_SETTINGS,meta:{endpoint:E.SOURCE_SETTINGS}}),s.prefetchQuery({queryKey:_.CATEGORY_SETTINGS,meta:{endpoint:E.CATEGORY_SETTINGS}})},[]),e.jsx(ge,{})}const be=v(_e),Re=D({key:"appConfig",default:{baseUrl:""}}),Te=q({key:"appConfigQuery",get:async()=>await(await fetch("config.json")).json(),set:({set:s},t)=>{s(Re,t)}}),Ce=s=>new z({defaultOptions:{queries:{meta:{baseUrl:s.baseUrl},queryFn:async({meta:t})=>{const{data:r}=await H.get(`${s.baseUrl}${t==null?void 0:t.endpoint}`);return r==null?void 0:r.data}}}}),ve=({children:s})=>{const[t,r]=M(Te),[c,n]=i.useState();return i.useEffect(()=>{t.baseUrl&&r(t)},[t,r]),i.useEffect(()=>{t.baseUrl&&n(Ce(t))},[t]),c?e.jsx(B,{client:c,children:s}):null},Oe=v(ve),we=F.createRoot(document.getElementById("root"));we.render(e.jsx(Y.StrictMode,{children:e.jsxs($,{children:[e.jsx(K,{}),e.jsx(Oe,{children:e.jsx(be,{})})]})}));export{E,_ as Q,v as w};
