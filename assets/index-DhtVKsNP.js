function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-BxXVCTnw.js","./vendor-Ce-Gnf-x.js","./TransactionUtils-BcZVEwCk.js","./ApiBase-ConkYzvp.js","./ApiBase-C-MBzkxx.css","./NumberUtils-DGiqd6yw.js","./index-CYPqh4D1.js","./index-Dtge8UU8.js","./index-DHbyCYYA.js","./index-DLsNo65D.js","./index-RXSK26lD.css","./index-D8yAq7r_.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,N as x,C as T,a as g,b as d,c as y,r as a,S as C,O as b,d as v,R as O,u as L,e as I,f as A,Q as P,g as w,h as Q,i as k,k as G,l as U,m as D,n as q,T as B}from"./vendor-Ce-Gnf-x.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Y="modulepreload",z=function(r,t){return new URL(r,t).href},E={},h=function(t,n,c){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),j=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=z(l,c),l in E)return;E[l]=!0;const p=l.endsWith(".css"),R=p?'[rel="stylesheet"]':"";if(!!c)for(let m=o.length-1;m>=0;m--){const f=o[m];if(f.href===l&&(!p||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${R}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":Y,p||(u.as="script",u.crossOrigin=""),u.href=l,j&&u.setAttribute("nonce",j),document.head.appendChild(u),p)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},H=()=>e.jsx(x,{bg:"primary",expand:"lg",children:e.jsxs(T,{fluid:!0,children:[e.jsx(x.Brand,{href:"/",children:"My Expense"}),e.jsx(x.Toggle,{}),e.jsx(x.Collapse,{children:e.jsxs(g,{className:"me-auto",children:[e.jsx(g.Link,{as:d,to:"/",children:"Home"}),e.jsx(g.Link,{as:d,to:"/manage",children:"Transactions"}),e.jsx(g.Link,{as:d,to:"/summary",children:"Year End Summary"}),e.jsxs(y,{title:"Settings",children:[e.jsx(y.Item,{as:d,to:"/settings/source",children:"Source"}),e.jsx(y.Item,{as:d,to:"/settings/categories",children:"Categories"})]})]})})]})}),F=()=>e.jsx(H,{}),V=()=>e.jsx(T,{className:"p-4 h-100",fluid:!0,children:e.jsx(a.Suspense,{fallback:e.jsx(C,{animation:"border"}),children:e.jsx(b,{})})}),$=()=>e.jsx("footer",{className:"page-footer font-small blue fixed-bottom",children:e.jsx("div",{className:"footer-copyright text-center py-3",children:e.jsxs("span",{children:["Created by ",e.jsx("a",{href:"https://github.com/nishant-labs",children:"Nishant Labs"})]})})});function K(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx(V,{}),e.jsx($,{})]})}const M=()=>e.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"display-1 fw-bold",children:"404"}),e.jsxs("p",{className:"fs-3",children:[e.jsx("span",{className:"text-danger",children:"Opps!"})," Page not found."]}),e.jsx("p",{className:"lead",children:"The page you’re looking for doesn’t exist."}),e.jsx(d,{to:"/",className:"btn btn-primary",children:"Go Home"})]})}),W=a.lazy(()=>h(()=>import("./index-BxXVCTnw.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),J=a.lazy(()=>h(()=>import("./index-CYPqh4D1.js"),__vite__mapDeps([6,1]),import.meta.url)),X=a.lazy(()=>h(()=>import("./index-Dtge8UU8.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),Z=a.lazy(()=>h(()=>import("./index-DHbyCYYA.js"),__vite__mapDeps([8,1,5,9,10,3,4]),import.meta.url)),ee=a.lazy(()=>h(()=>import("./index-D8yAq7r_.js"),__vite__mapDeps([11,1,9,10,3,4]),import.meta.url)),te=v([{path:"/",element:e.jsx(K,{}),errorElement:e.jsx(M,{}),children:[{index:!0,path:"/",element:e.jsx(W,{})},{path:"/summary",element:e.jsx(J,{})},{path:"/manage",element:e.jsx(X,{})},{path:"/settings/categories",element:e.jsx(Z,{})},{path:"/settings/source",element:e.jsx(ee,{})}]}]),se=()=>e.jsx(O,{router:te});class re extends a.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){console.error("Crash:",t,n)}render(){const{children:t}=this.props,{error:n}=this.state;if(n){const c=this.props.fallback||"Oops, something went wrong";return e.jsx("div",{children:c})}return t}}const ne=({fallback:r,errorFallback:t,children:n})=>e.jsx(a.Suspense,{fallback:r||e.jsx(C,{animation:"border"}),children:e.jsx(re,{fallback:t,children:n})}),N=(r,t="Something went wrong!")=>class extends a.Component{render(){return e.jsx(ne,{errorFallback:t,children:e.jsx(r,{...this.props})})}},S={TRANSACTIONS:"/api/transactions/",SOURCE_SETTINGS:"/api/settings/sources",CATEGORY_SETTINGS:"/api/settings/categories"},_={TRANSACTIONS:["transactions"],SOURCE_SETTINGS:["settings","sources"],CATEGORY_SETTINGS:["settings","categories"]};function oe(){const r=L();return a.useEffect(()=>{r.prefetchQuery({queryKey:_.SOURCE_SETTINGS,meta:{endpoint:S.SOURCE_SETTINGS}}),r.prefetchQuery({queryKey:_.CATEGORY_SETTINGS,meta:{endpoint:S.CATEGORY_SETTINGS}})},[]),e.jsx(se,{})}const ie=N(oe),ae=I({key:"appConfig",default:{baseUrl:""}}),ce=A({key:"appConfigQuery",get:async()=>await(await fetch("config.json")).json(),set:({set:r},t)=>{r(ae,t)}}),le=r=>new P({defaultOptions:{queries:{meta:{baseUrl:r.baseUrl},queryFn:async({meta:t})=>{const{data:n}=await w.get(`${r.baseUrl}${t==null?void 0:t.endpoint}`);return n==null?void 0:n.data}}}}),ue=({children:r})=>{const[t,n]=Q(ce),[c,s]=a.useState();return a.useEffect(()=>{t.baseUrl&&n(t)},[t,n]),a.useEffect(()=>{t.baseUrl&&s(le(t))},[t]),c?e.jsx(k,{client:c,children:r}):null},de=N(ue),pe=G.createRoot(document.getElementById("root"));pe.render(e.jsx(U.StrictMode,{children:e.jsxs(D,{children:[e.jsx(q,{}),e.jsx(B,{children:e.jsx(de,{children:e.jsx(ie,{})})})]})}));export{S as E,_ as Q,N as w};
