import{j as e,N as h,C as v,a as O,b as p,r as i,S as $,O as I,c as T,R as k,d as m,e as w,f as b,g as C,h as B,i as G,k as H,T as D}from"./vendor-FSvL8nI4.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const z="modulepreload",F=function(t){return"/my-expense/"+t},E={},g=function(r,s,c){let n=Promise.resolve();if(s&&s.length>0){const a=document.getElementsByTagName("link");n=Promise.all(s.map(o=>{if(o=F(o),o in E)return;E[o]=!0;const u=o.endsWith(".css"),R=u?'[rel="stylesheet"]':"";if(!!c)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===o&&(!u||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${R}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":z,u||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),u)return new Promise((d,f)=>{l.addEventListener("load",d),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return n.then(()=>r()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},V=()=>e.jsx(h,{bg:"light",expand:"lg",children:e.jsxs(v,{fluid:!0,children:[e.jsx(h.Brand,{href:"/",children:"My Home Expense"}),e.jsx(h.Toggle,{"aria-controls":"basic-navbar-nav"}),e.jsx(h.Collapse,{id:"basic-navbar-nav",children:e.jsxs(O,{className:"me-auto",children:[e.jsx(p,{to:"/",className:"nav-link",children:"Home"}),e.jsx(p,{to:"/summary",className:"nav-link",children:"Year End Summary"}),e.jsx(p,{to:"/manage",className:"nav-link",children:"Transactions"}),e.jsx(p,{to:"/settings",className:"nav-link",children:"Settings"})]})})]})}),M=()=>e.jsx(V,{}),q=()=>e.jsx(v,{className:"p-4 h-100",fluid:!0,children:e.jsx(i.Suspense,{fallback:e.jsx($,{animation:"border"}),children:e.jsx(I,{})})}),U=()=>e.jsx("footer",{className:"page-footer font-small blue fixed-bottom",children:e.jsx("div",{className:"footer-copyright text-center py-3",children:e.jsxs("span",{children:["Created by ",e.jsx("a",{href:"https://github.com/nishant-labs",children:"Nishant Labs"})]})})});function W(){return e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsx(q,{}),e.jsx(U,{})]})}const X=i.lazy(()=>g(()=>import("./index-iNQs_F38.js"),__vite__mapDeps([0,1,2,3,4]))),K=i.lazy(()=>g(()=>import("./index-mM4rlNhT.js"),__vite__mapDeps([5,1]))),Y=i.lazy(()=>g(()=>import("./index-lNhoELy6.js"),__vite__mapDeps([6,1,2,3,7,8]))),J=i.lazy(()=>g(()=>import("./index--emcDVZT.js"),__vite__mapDeps([9,1,4,3,7,8,10]))),Q=T([{path:"/",element:e.jsx(W,{}),children:[{index:!0,path:"/",element:e.jsx(X,{})},{path:"/summary",element:e.jsx(K,{})},{path:"/manage",element:e.jsx(Y,{})},{path:"/settings",element:e.jsx(J,{})}]}]),Z=()=>e.jsx(k,{router:Q}),y=()=>window.EXPENSE_API_HOST??"http://localhost:7800",x={headers:{"ngrok-skip-browser-warning":"true"}};async function L(t,r){var s;try{return(s=(await m.post(`${y()}${t}`,r,x)).data)==null?void 0:s.data}catch(c){return{error:c}}}async function P(t){var r;try{return(r=(await m.get(`${y()}${t}`,x)).data)==null?void 0:r.data}catch(s){return{error:s}}}async function N(t){var r;try{return(r=(await m.delete(`${y()}${t}`,x)).data)==null?void 0:r.data}catch(s){return{error:s}}}async function A(t,r){var s;try{return(s=(await m.put(`${y()}${t}`,r,x)).data)==null?void 0:s.data}catch(c){return{error:c}}}const S=async()=>await P("/api/settings/sources"),ie=async t=>await L("/api/settings/sources",t),ce=async t=>await N(`/api/settings/sources/${t}`),le=async(t,r)=>await A(`/api/settings/sources/${t}`,r),ee=w({key:"transactionSource",default:{sourceList:[],fetchAgain:!1}}),te=i.memo(()=>{const[{fetchAgain:t},r]=b(ee);return i.useEffect(()=>{S().then(s=>{s.error||r({fetchAgain:!1,sourceList:s})})},[]),i.useEffect(()=>{t&&S().then(s=>{s.error||r({fetchAgain:!1,sourceList:s})})},[t,r]),e.jsx(e.Fragment,{})}),_=async()=>await P("/api/settings/groups"),ue=async t=>await L("/api/settings/groups",t),de=async t=>await N(`/api/settings/groups/${t}`),fe=async(t,r)=>await A(`/api/settings/groups/${t}`,r),se=w({key:"transactionGroup",default:{groupList:[],fetchAgain:!1}}),re=i.memo(()=>{const[{fetchAgain:t},r]=b(se);return i.useEffect(()=>{_().then(s=>{s.error||r({fetchAgain:!1,groupList:s})})},[]),i.useEffect(()=>{t&&_().then(s=>{s.error||r({fetchAgain:!1,groupList:s})})},[t,r]),e.jsx(e.Fragment,{})}),j=prompt("Set API base url, defaults to http://localhost:7800");j&&j.startsWith("https")&&(window.EXPENSE_API_HOST=j);const ne=C.createRoot(document.getElementById("root"));ne.render(e.jsx(B.StrictMode,{children:e.jsxs(G,{children:[e.jsx(H,{}),e.jsxs(D,{children:[e.jsx(Z,{}),e.jsx(te,{}),e.jsx(re,{})]})]})}));export{P as a,ie as b,le as c,de as d,ce as e,ee as f,L as h,ue as i,se as t,fe as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-iNQs_F38.js","assets/vendor-FSvL8nI4.js","assets/TransactionUtils-j4r4zgJ7.js","assets/defineProperty-C3uLx3ZM.js","assets/useSourceSettings-hreK5ZpE.js","assets/index-mM4rlNhT.js","assets/index-lNhoELy6.js","assets/index-rE3cusip.js","assets/index-nN4kppzg.css","assets/index--emcDVZT.js","assets/index-EV0itupQ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}