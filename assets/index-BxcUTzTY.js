const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-tldmwf0A.js","./vendor-BC_dpYi7.js","./vendor-x_3xO9Yg.css","./TransactionUtils-DqeqH-hD.js","./ApiBase-DXA55t6X.js","./NumberUtils-DGiqd6yw.js","./index-BdCjslAQ.js","./index-fxBov3X7.js","./index-dzqnB146.js","./index-C7imb_n_.js","./index-Dw3gyt_E.css","./index-DGyc6vYC.js"])))=>i.map(i=>d[i]);
import{j as e,N as g,C as v,a as y,b as p,c as j,r as a,S as C,O as b,d as O,R as L,u as I,e as P,f as w,Q as A,g as Q,h as k,i as G,k as U,l as D,m as q,n as B,T as Y}from"./vendor-BC_dpYi7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const z="modulepreload",H=function(s,t){return new URL(s,t).href},S={},h=function(t,n,l){let r=Promise.resolve();if(n&&n.length>0){const c=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),E=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=H(u,l),u in S)return;S[u]=!0;const m=u.endsWith(".css"),R=m?'[rel="stylesheet"]':"";if(!!l)for(let f=c.length-1;f>=0;f--){const x=c[f];if(x.href===u&&(!m||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${R}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":z,m||(d.as="script"),d.crossOrigin="",d.href=u,E&&d.setAttribute("nonce",E),document.head.appendChild(d),m)return new Promise((f,x)=>{d.addEventListener("load",f),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return r.then(c=>{for(const i of c||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})},V=()=>e.jsx(g,{bg:"primary",expand:"lg",children:e.jsxs(v,{fluid:!0,children:[e.jsx(g.Brand,{href:"/",children:"My Expense"}),e.jsx(g.Toggle,{}),e.jsx(g.Collapse,{children:e.jsxs(y,{className:"me-auto",children:[e.jsx(y.Link,{as:p,to:"/",children:"Home"}),e.jsx(y.Link,{as:p,to:"/manage",children:"Transactions"}),e.jsx(y.Link,{as:p,to:"/summary",children:"Year End Summary"}),e.jsxs(j,{title:"Settings",children:[e.jsx(j.Item,{as:p,to:"/settings/source",children:"Source"}),e.jsx(j.Item,{as:p,to:"/settings/categories",children:"Categories"})]})]})})]})}),$=()=>e.jsx(V,{}),F=()=>e.jsx(v,{className:"p-4 h-100",fluid:!0,children:e.jsx(a.Suspense,{fallback:e.jsx(C,{animation:"border"}),children:e.jsx(b,{})})}),K=()=>e.jsx("footer",{className:"page-footer font-small blue fixed-bottom",children:e.jsx("div",{className:"footer-copyright text-center py-3",children:e.jsxs("span",{children:["Created by ",e.jsx("a",{href:"https://github.com/nishant-labs",children:"Nishant Labs"})]})})});function M(){return e.jsxs("div",{className:"flex-lg-row",children:[e.jsx($,{}),e.jsx("div",{className:"flex-grow-1",children:e.jsx(F,{})}),e.jsx(K,{})]})}const W=()=>e.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"display-1 fw-bold",children:"404"}),e.jsxs("p",{className:"fs-3",children:[e.jsx("span",{className:"text-danger",children:"Opps!"})," Page not found."]}),e.jsx("p",{className:"lead",children:"The page you’re looking for doesn’t exist."}),e.jsx(p,{to:"/",className:"btn btn-primary",children:"Go Home"})]})}),J=a.lazy(()=>h(()=>import("./index-tldmwf0A.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),X=a.lazy(()=>h(()=>import("./index-BdCjslAQ.js"),__vite__mapDeps([6,1,2]),import.meta.url)),Z=a.lazy(()=>h(()=>import("./index-fxBov3X7.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),ee=a.lazy(()=>h(()=>import("./index-dzqnB146.js"),__vite__mapDeps([8,1,2,5,9,10,4]),import.meta.url)),te=a.lazy(()=>h(()=>import("./index-DGyc6vYC.js"),__vite__mapDeps([11,1,2,9,10,4]),import.meta.url)),re=O([{path:"/",element:e.jsx(M,{}),errorElement:e.jsx(W,{}),children:[{index:!0,path:"/",element:e.jsx(J,{})},{path:"/summary",element:e.jsx(X,{})},{path:"/manage",element:e.jsx(Z,{})},{path:"/settings/categories",element:e.jsx(ee,{})},{path:"/settings/source",element:e.jsx(te,{})}]}]),se=()=>e.jsx(L,{router:re});class ne extends a.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){console.error("Crash:",t,n)}render(){const{children:t}=this.props,{error:n}=this.state;if(n){const l=this.props.fallback||"Oops, something went wrong";return e.jsx("div",{children:l})}return t}}const oe=({fallback:s,errorFallback:t,children:n})=>e.jsx(a.Suspense,{fallback:s||e.jsx(C,{animation:"border"}),children:e.jsx(ne,{fallback:t,children:n})}),N=(s,t="Something went wrong!")=>class extends a.Component{render(){return e.jsx(oe,{errorFallback:t,children:e.jsx(s,{...this.props})})}},_={TRANSACTIONS:"/api/transactions/",SOURCE_SETTINGS:"/api/settings/sources",CATEGORY_SETTINGS:"/api/settings/categories"},T={TRANSACTIONS:["transactions"],SOURCE_SETTINGS:["settings","sources"],CATEGORY_SETTINGS:["settings","categories"]};function ie(){const s=I();return a.useEffect(()=>{s.prefetchQuery({queryKey:T.SOURCE_SETTINGS,meta:{endpoint:_.SOURCE_SETTINGS}}),s.prefetchQuery({queryKey:T.CATEGORY_SETTINGS,meta:{endpoint:_.CATEGORY_SETTINGS}})},[]),e.jsx(se,{})}const ae=N(ie),ce=P({key:"appConfig",default:{baseUrl:""}}),le=w({key:"appConfigQuery",get:async()=>await(await fetch("config.json")).json(),set:({set:s},t)=>{s(ce,t)}}),ue=s=>new A({defaultOptions:{queries:{meta:{baseUrl:s.baseUrl},queryFn:async({meta:t})=>{const{data:n}=await Q.get(`${s.baseUrl}${t==null?void 0:t.endpoint}`);return n==null?void 0:n.data}}}}),de=({children:s})=>{const[t,n]=k(le),[l,r]=a.useState();return a.useEffect(()=>{t.baseUrl&&n(t)},[t,n]),a.useEffect(()=>{t.baseUrl&&r(ue(t))},[t]),l?e.jsx(G,{client:l,children:s}):null},pe=N(de),me=U.createRoot(document.getElementById("root"));me.render(e.jsx(D.StrictMode,{children:e.jsxs(q,{children:[e.jsx(B,{}),e.jsx(Y,{children:e.jsx(pe,{children:e.jsx(ae,{})})})]})}));export{_ as E,T as Q,N as w};
