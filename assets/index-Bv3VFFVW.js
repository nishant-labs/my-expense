function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-pWEF37i5.js","./vendor-yZUb1w_a.js","./TransactionUtils-Dy7L6lcu.js","./selector-BLXaIuyF.js","./selector-DhrPbQzi.js","./selector-C-MBzkxx.css","./NumberUtils-DGiqd6yw.js","./index-DOhDrlyi.js","./index-DQ9gZKTG.js","./index-Ded__Mwj.js","./index-a5tZIyd1.js","./index-RXSK26lD.css","./index-CY7T0bGL.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,N as g,C as L,a as x,b as d,c as E,r as o,S as A,O as T,d as k,R as $,e as y,f as S,g as _,h as D,i as B,k as H,l as F,m as z,T as U}from"./vendor-yZUb1w_a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const V="modulepreload",q=function(s,t){return new URL(s,t).href},b={},p=function(t,r,c){let n=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),w=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(r.map(l=>{if(l=q(l,c),l in b)return;b[l]=!0;const f=l.endsWith(".css"),I=f?'[rel="stylesheet"]':"";if(!!c)for(let h=a.length-1;h>=0;h--){const m=a[h];if(m.href===l&&(!f||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${I}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":V,f||(u.as="script",u.crossOrigin=""),u.href=l,w&&u.setAttribute("nonce",w),document.head.appendChild(u),f)return new Promise((h,m)=>{u.addEventListener("load",h),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return n.then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})},M=()=>e.jsx(g,{bg:"light",expand:"lg",children:e.jsxs(L,{fluid:!0,children:[e.jsx(g.Brand,{href:"/",children:"My Expense"}),e.jsx(g.Toggle,{"aria-controls":"basic-navbar-nav"}),e.jsx(g.Collapse,{id:"basic-navbar-nav",children:e.jsxs(x,{className:"me-auto",children:[e.jsx(x.Link,{as:d,to:"/",children:"Home"}),e.jsx(x.Link,{as:d,to:"/manage",children:"Transactions"}),e.jsx(x.Link,{as:d,to:"/summary",children:"Year End Summary"}),e.jsxs(E,{title:"Settings",id:"basic-nav-dropdown",children:[e.jsx(E.Item,{as:d,to:"/settings/source",children:"Source"}),e.jsx(E.Item,{as:d,to:"/settings/categories",children:"Categories"})]})]})})]})}),X=()=>e.jsx(M,{}),G=()=>e.jsx(L,{className:"p-4 h-100",fluid:!0,children:e.jsx(o.Suspense,{fallback:e.jsx(A,{animation:"border"}),children:e.jsx(T,{})})}),Q=()=>e.jsx("footer",{className:"page-footer font-small blue fixed-bottom",children:e.jsx("div",{className:"footer-copyright text-center py-3",children:e.jsxs("span",{children:["Created by ",e.jsx("a",{href:"https://github.com/nishant-labs",children:"Nishant Labs"})]})})});function W(){return e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(G,{}),e.jsx(Q,{})]})}const K=()=>e.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"display-1 fw-bold",children:"404"}),e.jsxs("p",{className:"fs-3",children:[e.jsx("span",{className:"text-danger",children:"Opps!"})," Page not found."]}),e.jsx("p",{className:"lead",children:"The page you’re looking for doesn’t exist."}),e.jsx(d,{to:"/",className:"btn btn-primary",children:"Go Home"})]})}),Y=o.lazy(()=>p(()=>import("./index-pWEF37i5.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),J=o.lazy(()=>p(()=>import("./index-DOhDrlyi.js"),__vite__mapDeps([7,1]),import.meta.url)),Z=o.lazy(()=>p(()=>import("./index-DQ9gZKTG.js"),__vite__mapDeps([8,1,2,3,4,5]),import.meta.url)),ee=o.lazy(()=>p(()=>import("./index-Ded__Mwj.js"),__vite__mapDeps([9,1,6,10,11,4,5,3]),import.meta.url)),te=o.lazy(()=>p(()=>import("./index-CY7T0bGL.js"),__vite__mapDeps([12,1,10,11,4,5]),import.meta.url)),se=k([{path:"/",element:e.jsx(W,{}),errorElement:e.jsx(K,{}),children:[{index:!0,path:"/",element:e.jsx(Y,{})},{path:"/summary",element:e.jsx(J,{})},{path:"/manage",element:e.jsx(Z,{})},{path:"/settings/categories",element:e.jsx(ee,{})},{path:"/settings/source",element:e.jsx(te,{})}]}]),re=()=>e.jsx($,{router:se}),j=()=>window.EXPENSE_API_HOST??"http://localhost:7800";async function P(s,t){var r;try{return(r=(await y.post(`${j()}${s}`,t)).data)==null?void 0:r.data}catch(c){return{error:c}}}async function N(s){var t;try{return(t=(await y.get(`${j()}${s}`)).data)==null?void 0:t.data}catch(r){return{error:r}}}async function R(s){var t;try{return(t=(await y.delete(`${j()}${s}`)).data)==null?void 0:t.data}catch(r){return{error:r}}}async function O(s,t){var r;try{return(r=(await y.put(`${j()}${s}`,t)).data)==null?void 0:r.data}catch(c){return{error:c}}}const v=async()=>await N("/api/settings/categories"),ye=async s=>await P("/api/settings/categories",s),je=async s=>await R(`/api/settings/categories/${s}`),Ee=async(s,t)=>await O(`/api/settings/categories/${s}`,t),ne=S({key:"transactionCategory",default:{categories:[],fetchAgain:!1}}),ae=o.memo(()=>{const[{fetchAgain:s},t]=_(ne);return o.useEffect(()=>{v().then(r=>{r.error||t({fetchAgain:!1,categories:r})})},[]),o.useEffect(()=>{s&&v().then(r=>{r.error||t({fetchAgain:!1,categories:r})})},[s,t]),e.jsx(e.Fragment,{})}),C=async()=>await N("/api/settings/sources"),Se=async s=>await P("/api/settings/sources",s),_e=async s=>await R(`/api/settings/sources/${s}`),we=async(s,t)=>await O(`/api/settings/sources/${s}`,t),oe=S({key:"transactionSource",default:{sourceList:[],fetchAgain:!1}}),ie=o.memo(()=>{const[{fetchAgain:s},t]=_(oe);return o.useEffect(()=>{C().then(r=>{r.error||t({fetchAgain:!1,sourceList:r})})},[]),o.useEffect(()=>{s&&C().then(r=>{r.error||t({fetchAgain:!1,sourceList:r})})},[s,t]),e.jsx(e.Fragment,{})});class ce extends o.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,r){console.error("Crash:",t,r)}render(){const{children:t}=this.props,{error:r}=this.state;if(r){const c=this.props.fallback||"Oops, something went wrong";return e.jsx("div",{children:c})}return t}}const le=({fallback:s,errorFallback:t,children:r})=>e.jsx(o.Suspense,{fallback:s||e.jsx(A,{animation:"border"}),children:e.jsx(ce,{fallback:t,children:r})}),ue=(s,t="Something went wrong!")=>class extends o.Component{render(){return e.jsx(le,{errorFallback:t,children:e.jsx(s,{...this.props})})}},de=S({key:"appConfig",default:{baseUrl:""}}),fe=D({key:"appConfigQuery",get:async()=>await(await fetch("config.json")).json(),set:({set:s},t)=>{s(de,t)}});function he(){const[s,t]=_(fe);return o.useEffect(()=>{s.baseUrl&&!window.EXPENSE_API_HOST&&(t(s),window.EXPENSE_API_HOST=s.baseUrl)},[s,t]),e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsx(ie,{}),e.jsx(ae,{})]})}const pe=ue(he),me=B.createRoot(document.getElementById("root"));me.render(e.jsx(H.StrictMode,{children:e.jsxs(F,{children:[e.jsx(z,{}),e.jsx(U,{children:e.jsx(pe,{})})]})}));export{N as a,Se as b,we as c,je as d,_e as e,oe as f,P as h,ye as i,ne as t,Ee as u,ue as w};
