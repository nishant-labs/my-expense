import{r as d,m as f,j as n,n as j,A as M,o as G,p as F,q as L,s as V}from"./vendor--6RsP4g0.js";import{u as X,t as w,a as T,M as H}from"./TransactionUtils-GxnHwQ9j.js";import{G as K}from"./defineProperty-mzNCr1T6.js";import{f as v}from"./NumberUtils-_oKYmsop.js";import{u as Z}from"./useSourceSettings-mIK861Fa.js";import"./index-bwkiEfyT.js";import"./selector-MIK_3xM1.js";var O={},h=f&&f.__assign||function(){return h=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},h.apply(this,arguments)},q=f&&f.__createBinding||(Object.create?function(e,t,a,s){s===void 0&&(s=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,r)}:function(e,t,a,s){s===void 0&&(s=a),e[s]=t[a]}),W=f&&f.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),J=f&&f.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&q(t,e,a);return W(t,e),t};Object.defineProperty(O,"__esModule",{value:!0});var S=J(d),_=d,Q=function(e){var t=h({cardStyles:{back:{},front:{}},cardZIndex:"auto",containerStyle:{},flipDirection:"horizontal",flipSpeedBackToFront:.6,flipSpeedFrontToBack:.6,infinite:!1,isFlipped:!1},e),a=t.cardStyles,s=a.back,r=a.front,l=t.cardZIndex,m=t.containerStyle,u=t.containerClassName,g=t.flipDirection,C=t.flipSpeedFrontToBack,c=t.flipSpeedBackToFront,i=t.infinite,o=t.isFlipped,p=(0,_.useState)(o),B=p[0],R=p[1],N=(0,_.useState)(0),y=N[0],A=N[1];(0,_.useEffect)(function(){o!==B&&(R(o),A(function(x){return x+180}))},[o]);var I=(0,_.useMemo)(function(){var x="react-card-flip";return u&&(x+=" ".concat(u)),x},[u]),k=function(x){if(e.children.length!==2)throw new Error("Component ReactCardFlip requires 2 children to function");return e.children[x]},Y="rotateY(".concat(i?y:o?180:0,"deg)"),P="rotateY(".concat(i?y+180:o?0:-180,"deg)"),$="rotateX(".concat(i?y:o?180:0,"deg)"),z="rotateX(".concat(i?y+180:o?0:-180,"deg)"),b={back:h({WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",height:"100%",left:"0",position:o?"relative":"absolute",top:"0",transform:g==="horizontal"?P:z,transformStyle:"preserve-3d",transition:"".concat(C,"s"),width:"100%"},s),container:{perspective:"1000px",zIndex:"".concat(l)},flipper:{height:"100%",position:"relative",width:"100%"},front:h({WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",height:"100%",left:"0",position:o?"absolute":"relative",top:"0",transform:g==="horizontal"?Y:$,transformStyle:"preserve-3d",transition:"".concat(c,"s"),width:"100%",zIndex:"2"},r)};return S.createElement("div",{className:I,style:h(h({},b.container),m)},S.createElement("div",{className:"react-card-flipper",style:b.flipper},S.createElement("div",{className:"react-card-front",style:b.front},k(0)),S.createElement("div",{className:"react-card-back",style:b.back},k(1))))},U=O.default=Q;const ee={sortable:!0},te=[{headerName:"Group",field:"groupName"},{headerName:"Budget",field:"amount",width:120,type:"rightAligned",valueFormatter:e=>v(parseInt(e.value??"0"),!1)},{headerName:"Amount",field:"amount",width:120,type:"rightAligned",valueFormatter:e=>v(parseInt(e.value??"0"),!1)}],ae=({transactionList:e})=>n.jsx(K,{styles:{height:"100%"},defaultColDef:ee,colDefs:te,rowData:e,pagination:!1}),E=({title:e,total:t,transactions:a})=>{const[s,r]=d.useState(!1),l=d.useCallback(()=>{r(!s)},[s]),m=v(t,!1);return n.jsxs(U,{isFlipped:s,children:[n.jsx("div",{style:{height:"200px",boxShadow:"#3399F3 5px 5px 5px",cursor:"pointer"},onClick:l,children:n.jsx(j,{className:"text-center h-100",children:n.jsxs(j.Body,{children:[n.jsx(j.Title,{className:"text-black-50",children:e}),n.jsx(j.Text,{className:"p-1 display-6",children:m})]})})}),n.jsx("div",{style:{height:"200px",boxShadow:"#3399F3 5px 5px 5px",cursor:"pointer"},onClick:l,children:n.jsx(ae,{transactionList:a})})]})},ne=({year:e,month:t})=>{const{transactions:a}=X(e,t),{sourceList:s}=Z(),r=d.useMemo(()=>{const c=s.filter(i=>!i.isExpense);return w(a,c,"account")},[s,a]),l=d.useMemo(()=>{const c=s.filter(i=>i.isExpense);return w(a,c,"account")},[s,a]),m=d.useMemo(()=>{const c=s.filter(i=>i.isExpense);return w(a,c,"creditCard")},[s,a]),u=d.useMemo(()=>{const c=T(r),i=T(l);return c+i},[l,r]);if(a.length===0)return n.jsx(M,{variant:"warning",children:"Transaction Missing, please upload for the month"});const g=`You have saved ${v(u)} this month`,C=`You have spend ${v(u)} more than you income`;return n.jsxs(n.Fragment,{children:[n.jsx(M,{variant:u>0?"primary":"warning",children:n.jsx("h5",{children:u>0?g:C})}),n.jsxs(G,{className:"row-cols-3",children:[r.map(({title:c,total:i,transactions:o},p)=>n.jsx(F,{children:n.jsx(E,{title:c,total:i,transactions:o})},`income-${p}`)),l.map(({title:c,total:i,transactions:o},p)=>n.jsx(F,{children:n.jsx(E,{title:c,total:i,transactions:o})},`acc-exp-${p}`)),m.map(({title:c,total:i,transactions:o},p)=>n.jsx(F,{children:n.jsx(E,{title:c,total:i,transactions:o})},`card-exp-${p}`))]})]})},[ue,...D]=H,pe=()=>{const[e,t]=d.useState(D[0].label.toLowerCase()),{month:a,year:s}=d.useMemo(()=>{const r=new Date;return{month:r.getMonth(),year:r.getFullYear().toString()}},[]);return n.jsxs(n.Fragment,{children:[n.jsx("h2",{children:"Monthly Expense Report"}),n.jsx(L,{id:"controlled-tab-example",activeKey:e,onSelect:r=>t(r),className:"mb-3",children:D.map(({label:r,value:l},m)=>n.jsx(V,{eventKey:r.toLowerCase(),title:r,disabled:m>a,mountOnEnter:!0,unmountOnExit:!0,children:n.jsx(ne,{month:l,year:s})},l))})]})};export{pe as default};
