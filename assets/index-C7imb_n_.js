import{r as a,j as e,S as y,F as m,w as d,J as g,K as k,M as i,L as S}from"./vendor-BC_dpYi7.js";function p(n,l=!1){const[o,s]=a.useState({data:null,loading:!1,error:null}),c=a.useCallback(async()=>{s(t=>({...t,loading:!0}));const r=await n();r!=null&&r.error?s(t=>({...t,loading:!1,error:r.error})):s(t=>({...t,loading:!1,data:r}))},[]);return a.useEffect(()=>{l||c()},[]),[o,c]}const w=({deleteItem:n,toggleItem:l,editItem:o,data:s})=>{const[c,r]=a.useState(!1),t=a.useCallback(()=>(r(!1),n(s)),[s,n]),h=a.useCallback(()=>l(s),[s,l]),x=a.useCallback(()=>o(s),[s,o]),[j,u]=p(t,!0),[C,f]=p(h,!0);return j.loading||C.loading?e.jsx(y,{animation:"border"}):e.jsxs("div",{children:[e.jsxs(m,{children:[e.jsx(m.Check,{style:{display:"inline-grid"},type:"switch",name:`category-${s.id}`,checked:s.isEnabled,onChange:f}),e.jsx(d,{variant:"link",onClick:x,children:e.jsx(g,{})}),e.jsx(d,{variant:"link",onClick:()=>r(!0),children:e.jsx(k,{})})]}),e.jsxs(i,{show:c,onHide:()=>r(!1),backdrop:"static",keyboard:!1,children:[e.jsx(i.Header,{closeButton:!0,children:e.jsxs(i.Title,{children:["Delete ",s.name]})}),e.jsx(i.Body,{children:"Are you sure, want to delete?"}),e.jsxs(i.Footer,{children:[e.jsx(d,{variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),e.jsx(d,{variant:"primary",onClick:u,children:"Delete"})]})]})]})},A=({options:n,selected:l,onChange:o})=>{const s=a.useCallback(c=>{const r=c.map(t=>typeof t=="string"?t:t==null?void 0:t.matcher);o(r)},[o]);return e.jsx(S,{id:"transactionSelector",labelKey:"matcher",onChange:s,options:n??[],placeholder:"Select transactions",selected:l,multiple:!0,allowNew:!0})},b=({value:n,data:l,updateItem:o})=>{const[s,c]=a.useState(!1),[r,t]=a.useState(n),h=()=>c(!1),x=()=>c(!0),j=()=>{h(),o(l,r)};return e.jsxs(e.Fragment,{children:[(n==null?void 0:n.length)===1?e.jsx("span",{className:"text-truncate",children:n[0]}):e.jsx("div",{className:"list-renderer",children:e.jsx("ul",{className:"small m-0",children:n==null?void 0:n.map((u,C)=>e.jsx("li",{className:"lh-sm",children:e.jsx("span",{className:"text-truncate",children:u})},`${l==null?void 0:l.id}-${C}`))})}),e.jsx(g,{style:{float:"right",cursor:"pointer",marginBottom:"5px"},onClick:x}),e.jsxs(i,{show:s,onHide:h,children:[e.jsx(i.Header,{closeButton:!0,children:e.jsx(i.Title,{children:"Edit Transactions"})}),e.jsx(i.Body,{children:e.jsx(A,{selected:r,onChange:t})}),e.jsxs(i.Footer,{children:[e.jsx(d,{variant:"secondary",onClick:h,children:"Close"}),e.jsx(d,{variant:"primary",onClick:j,children:"Save Changes"})]})]})]})},T={rowActionCellRenderer:w,listItemWithEditCellRenderer:b};export{A as T,T as s};
