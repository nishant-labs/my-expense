var ve=Object.defineProperty;var Ee=(r,n,e)=>n in r?ve(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var o=(r,n,e)=>(Ee(r,typeof n!="symbol"?n+"":n,e),e);import{f as We,v as Ce,g as qe,w as ue,r as F}from"./vendor-foZfMBSG.js";import{h as He,a as Le}from"./index-JQHhOuWj.js";import{s as Ie}from"./selector-McJhBYGT.js";import{s as Fe}from"./selector-JKYQ24bE.js";const dr=Array(13).fill("").map((r,n)=>{if(n===0)return{label:"Select Month",value:""};const e=new Date(0,n-1);return{label:e.toLocaleString("en-GB",{month:"long"}),value:(e.getMonth()+1).toLocaleString("en-GB",{minimumIntegerDigits:2,maximumFractionDigits:0,useGrouping:!1})}}),lr=Array(6).fill(new Date().getFullYear()).map((r,n)=>{if(n===0)return{label:"Select Year",value:""};const e=r-(n-1);return{label:e.toString(),value:e}}),fr=[{label:"Select Account Type",value:""},{label:"Savings/Current Account",value:"account"},{label:"Credit Card",value:"creditCard"}],Re=async(r,n,e)=>await Le(`/api/transactions/${e??"consolidated"}/${r}-${n}`),hr=async(r,n)=>await He(`/api/transactions/${r}`,n),de=We({key:"transactions",default:{}}),Qe=Ce({key:"transactionByMonthSelector",get:({year:r,month:n})=>({get:e})=>e(de)[`${r}_${n}`]??[],set:({year:r,month:n})=>({set:e},t)=>{e(de,a=>({...a,[`${r}_${n}`]:t}))}});function mr(r,n,e){const[t,a]=qe(Qe({year:r,month:n})),s=ue(Ie),i=ue(Fe),[c,u]=F.useState(""),[d,w]=F.useState(!1),m=F.useRef(!0),M=F.useCallback(()=>{w(!0),Re(r,n,e).then(O=>{O.error?u("Failed to retrieve transactions"):a(O),m.current=!1,w(!1)})},[r,n,e,a]),T=F.useMemo(()=>t.map(O=>{const N=s.find(W=>W.matchers.some(P=>{const Y=P.split(" "),C=Y.filter($=>O.transactionSource.includes($));return Y.length===C.length})),L=i.find(W=>W.id===(N==null?void 0:N.sourceId));return{...O,group:N,source:L}}),[s,i,t]);return F.useEffect(()=>{m.current&&M()},[]),{transactions:T,isLoading:d,error:c,fetchTransactions:M,firstLoadPendingRef:m}}function k(r){const n=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&n==="[object Date]"?new r.constructor(+r):typeof r=="number"||n==="[object Number]"||typeof r=="string"||n==="[object String]"?new Date(r):new Date(NaN)}function b(r,n){return r instanceof Date?new r.constructor(n):new Date(n)}function ge(r,n){const e=k(r);return isNaN(n)?b(r,NaN):(n&&e.setDate(e.getDate()+n),e)}const ye=6048e5,Ae=864e5,ee=6e4,te=36e5,Be=1e3;let Ge={};function A(){return Ge}function H(r,n){var c,u,d,w;const e=A(),t=(n==null?void 0:n.weekStartsOn)??((u=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??e.weekStartsOn??((w=(d=e.locale)==null?void 0:d.options)==null?void 0:w.weekStartsOn)??0,a=k(r),s=a.getDay(),i=(s<t?7:0)+s-t;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Q(r){return H(r,{weekStartsOn:1})}function be(r){const n=k(r),e=n.getFullYear(),t=b(r,0);t.setFullYear(e+1,0,4),t.setHours(0,0,0,0);const a=Q(t),s=b(r,0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);const i=Q(s);return n.getTime()>=a.getTime()?e+1:n.getTime()>=i.getTime()?e:e-1}function le(r){const n=k(r);return n.setHours(0,0,0,0),n}function U(r){const n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),r.getTime()-n.getTime()}function Xe(r,n){const e=le(r),t=le(n),a=e.getTime()-U(e),s=t.getTime()-U(t);return Math.round((a-s)/Ae)}function $e(r){const n=be(r),e=b(r,0);return e.setFullYear(n,0,4),e.setHours(0,0,0,0),Q(e)}function je(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Ue(r){if(!je(r)&&typeof r!="number")return!1;const n=k(r);return!isNaN(Number(n))}function Ve(r){const n=k(r),e=b(r,0);return e.setFullYear(n.getFullYear(),0,1),e.setHours(0,0,0,0),e}const ze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ze=(r,n,e)=>{let t;const a=ze[r];return typeof a=="string"?t=a:n===1?t=a.one:t=a.other.replace("{{count}}",n.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};function J(r){return(n={})=>{const e=n.width?String(n.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}const Je={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Se={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},et={date:J({formats:Je,defaultWidth:"full"}),time:J({formats:Ke,defaultWidth:"full"}),dateTime:J({formats:Se,defaultWidth:"full"})},tt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nt=(r,n,e,t)=>tt[r];function B(r){return(n,e)=>{const t=e!=null&&e.context?String(e.context):"standalone";let a;if(t==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,c=e!=null&&e.width?String(e.width):i;a=r.formattingValues[c]||r.formattingValues[i]}else{const i=r.defaultWidth,c=e!=null&&e.width?String(e.width):r.defaultWidth;a=r.values[c]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(n):n;return a[s]}}const rt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},at={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},st={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},it={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ct={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ut=(r,n)=>{const e=Number(r),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},dt={ordinalNumber:ut,era:B({values:rt,defaultWidth:"wide"}),quarter:B({values:at,defaultWidth:"wide",argumentCallback:r=>r-1}),month:B({values:st,defaultWidth:"wide"}),day:B({values:it,defaultWidth:"wide"}),dayPeriod:B({values:ot,defaultWidth:"wide",formattingValues:ct,defaultFormattingWidth:"wide"})};function G(r){return(n,e={})=>{const t=e.width,a=t&&r.matchPatterns[t]||r.matchPatterns[r.defaultMatchWidth],s=n.match(a);if(!s)return null;const i=s[0],c=t&&r.parsePatterns[t]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(c)?ft(c,m=>m.test(i)):lt(c,m=>m.test(i));let d;d=r.valueCallback?r.valueCallback(u):u,d=e.valueCallback?e.valueCallback(d):d;const w=n.slice(i.length);return{value:d,rest:w}}}function lt(r,n){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&n(r[e]))return e}function ft(r,n){for(let e=0;e<r.length;e++)if(n(r[e]))return e}function ht(r){return(n,e={})=>{const t=n.match(r.matchPattern);if(!t)return null;const a=t[0],s=n.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=e.valueCallback?e.valueCallback(i):i;const c=n.slice(a.length);return{value:i,rest:c}}}const mt=/^(\d+)(th|st|nd|rd)?/i,wt=/\d+/i,gt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yt={any:[/^b/i,/^(a|c)/i]},bt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xt={any:[/1/i,/2/i,/3/i,/4/i]},Dt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ot={ordinalNumber:ht({matchPattern:mt,parsePattern:wt,valueCallback:r=>parseInt(r,10)}),era:G({matchPatterns:gt,defaultMatchWidth:"wide",parsePatterns:yt,defaultParseWidth:"any"}),quarter:G({matchPatterns:bt,defaultMatchWidth:"wide",parsePatterns:xt,defaultParseWidth:"any",valueCallback:r=>r+1}),month:G({matchPatterns:Dt,defaultMatchWidth:"wide",parsePatterns:pt,defaultParseWidth:"any"}),day:G({matchPatterns:Tt,defaultMatchWidth:"wide",parsePatterns:Mt,defaultParseWidth:"any"}),dayPeriod:G({matchPatterns:Pt,defaultMatchWidth:"any",parsePatterns:kt,defaultParseWidth:"any"})},xe={code:"en-US",formatDistance:Ze,formatLong:et,formatRelative:nt,localize:dt,match:Ot,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yt(r){const n=k(r);return Xe(n,Ve(n))+1}function De(r){const n=k(r),e=Q(n).getTime()-$e(n).getTime();return Math.round(e/ye)+1}function ne(r,n){var w,m,M,T;const e=k(r),t=e.getFullYear(),a=A(),s=(n==null?void 0:n.firstWeekContainsDate)??((m=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((T=(M=a.locale)==null?void 0:M.options)==null?void 0:T.firstWeekContainsDate)??1,i=b(r,0);i.setFullYear(t+1,0,s),i.setHours(0,0,0,0);const c=H(i,n),u=b(r,0);u.setFullYear(t,0,s),u.setHours(0,0,0,0);const d=H(u,n);return e.getTime()>=c.getTime()?t+1:e.getTime()>=d.getTime()?t:t-1}function Nt(r,n){var c,u,d,w;const e=A(),t=(n==null?void 0:n.firstWeekContainsDate)??((u=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??e.firstWeekContainsDate??((w=(d=e.locale)==null?void 0:d.options)==null?void 0:w.firstWeekContainsDate)??1,a=ne(r,n),s=b(r,0);return s.setFullYear(a,0,t),s.setHours(0,0,0,0),H(s,n)}function pe(r,n){const e=k(r),t=H(e,n).getTime()-Nt(e,n).getTime();return Math.round(t/ye)+1}function h(r,n){const e=r<0?"-":"",t=Math.abs(r).toString().padStart(n,"0");return e+t}const q={y(r,n){const e=r.getFullYear(),t=e>0?e:1-e;return h(n==="yy"?t%100:t,n.length)},M(r,n){const e=r.getMonth();return n==="M"?String(e+1):h(e+1,2)},d(r,n){return h(r.getDate(),n.length)},a(r,n){const e=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(r,n){return h(r.getHours()%12||12,n.length)},H(r,n){return h(r.getHours(),n.length)},m(r,n){return h(r.getMinutes(),n.length)},s(r,n){return h(r.getSeconds(),n.length)},S(r,n){const e=n.length,t=r.getMilliseconds(),a=Math.floor(t*Math.pow(10,e-3));return h(a,n.length)}},R={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_t={G:function(r,n,e){const t=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(t,{width:"abbreviated"});case"GGGGG":return e.era(t,{width:"narrow"});case"GGGG":default:return e.era(t,{width:"wide"})}},y:function(r,n,e){if(n==="yo"){const t=r.getFullYear(),a=t>0?t:1-t;return e.ordinalNumber(a,{unit:"year"})}return q.y(r,n)},Y:function(r,n,e,t){const a=ne(r,t),s=a>0?a:1-a;if(n==="YY"){const i=s%100;return h(i,2)}return n==="Yo"?e.ordinalNumber(s,{unit:"year"}):h(s,n.length)},R:function(r,n){const e=be(r);return h(e,n.length)},u:function(r,n){const e=r.getFullYear();return h(e,n.length)},Q:function(r,n,e){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(t);case"QQ":return h(t,2);case"Qo":return e.ordinalNumber(t,{unit:"quarter"});case"QQQ":return e.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(t,{width:"wide",context:"formatting"})}},q:function(r,n,e){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(t);case"qq":return h(t,2);case"qo":return e.ordinalNumber(t,{unit:"quarter"});case"qqq":return e.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(t,{width:"wide",context:"standalone"})}},M:function(r,n,e){const t=r.getMonth();switch(n){case"M":case"MM":return q.M(r,n);case"Mo":return e.ordinalNumber(t+1,{unit:"month"});case"MMM":return e.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(t,{width:"wide",context:"formatting"})}},L:function(r,n,e){const t=r.getMonth();switch(n){case"L":return String(t+1);case"LL":return h(t+1,2);case"Lo":return e.ordinalNumber(t+1,{unit:"month"});case"LLL":return e.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(t,{width:"wide",context:"standalone"})}},w:function(r,n,e,t){const a=pe(r,t);return n==="wo"?e.ordinalNumber(a,{unit:"week"}):h(a,n.length)},I:function(r,n,e){const t=De(r);return n==="Io"?e.ordinalNumber(t,{unit:"week"}):h(t,n.length)},d:function(r,n,e){return n==="do"?e.ordinalNumber(r.getDate(),{unit:"date"}):q.d(r,n)},D:function(r,n,e){const t=Yt(r);return n==="Do"?e.ordinalNumber(t,{unit:"dayOfYear"}):h(t,n.length)},E:function(r,n,e){const t=r.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(t,{width:"short",context:"formatting"});case"EEEE":default:return e.day(t,{width:"wide",context:"formatting"})}},e:function(r,n,e,t){const a=r.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return h(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(r,n,e,t){const a=r.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return h(s,n.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(r,n,e){const t=r.getDay(),a=t===0?7:t;switch(n){case"i":return String(a);case"ii":return h(a,n.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(t,{width:"short",context:"formatting"});case"iiii":default:return e.day(t,{width:"wide",context:"formatting"})}},a:function(r,n,e){const a=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,n,e){const t=r.getHours();let a;switch(t===12?a=R.noon:t===0?a=R.midnight:a=t/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,n,e){const t=r.getHours();let a;switch(t>=17?a=R.evening:t>=12?a=R.afternoon:t>=4?a=R.morning:a=R.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,n,e){if(n==="ho"){let t=r.getHours()%12;return t===0&&(t=12),e.ordinalNumber(t,{unit:"hour"})}return q.h(r,n)},H:function(r,n,e){return n==="Ho"?e.ordinalNumber(r.getHours(),{unit:"hour"}):q.H(r,n)},K:function(r,n,e){const t=r.getHours()%12;return n==="Ko"?e.ordinalNumber(t,{unit:"hour"}):h(t,n.length)},k:function(r,n,e){let t=r.getHours();return t===0&&(t=24),n==="ko"?e.ordinalNumber(t,{unit:"hour"}):h(t,n.length)},m:function(r,n,e){return n==="mo"?e.ordinalNumber(r.getMinutes(),{unit:"minute"}):q.m(r,n)},s:function(r,n,e){return n==="so"?e.ordinalNumber(r.getSeconds(),{unit:"second"}):q.s(r,n)},S:function(r,n){return q.S(r,n)},X:function(r,n,e,t){const s=(t._originalDate||r).getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return he(s);case"XXXX":case"XX":return I(s);case"XXXXX":case"XXX":default:return I(s,":")}},x:function(r,n,e,t){const s=(t._originalDate||r).getTimezoneOffset();switch(n){case"x":return he(s);case"xxxx":case"xx":return I(s);case"xxxxx":case"xxx":default:return I(s,":")}},O:function(r,n,e,t){const s=(t._originalDate||r).getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+fe(s,":");case"OOOO":default:return"GMT"+I(s,":")}},z:function(r,n,e,t){const s=(t._originalDate||r).getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+fe(s,":");case"zzzz":default:return"GMT"+I(s,":")}},t:function(r,n,e,t){const a=t._originalDate||r,s=Math.floor(a.getTime()/1e3);return h(s,n.length)},T:function(r,n,e,t){const s=(t._originalDate||r).getTime();return h(s,n.length)}};function fe(r,n=""){const e=r>0?"-":"+",t=Math.abs(r),a=Math.floor(t/60),s=t%60;return s===0?e+String(a):e+String(a)+n+h(s,2)}function he(r,n){return r%60===0?(r>0?"-":"+")+h(Math.abs(r)/60,2):I(r,n)}function I(r,n=""){const e=r>0?"-":"+",t=Math.abs(r),a=h(Math.floor(t/60),2),s=h(t%60,2);return e+a+n+s}const me=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Te=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},vt=(r,n)=>{const e=r.match(/(P+)(p+)?/)||[],t=e[1],a=e[2];if(!a)return me(r,n);let s;switch(t){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",me(t,n)).replace("{{time}}",Te(a,n))},S={p:Te,P:vt},Et=/^D+$/,Wt=/^Y+$/,Ct=["D","DD","YY","YYYY"];function Me(r){return Et.test(r)}function Pe(r){return Wt.test(r)}function V(r,n,e){const t=qt(r,n,e);if(console.warn(t),Ct.includes(r))throw new RangeError(t)}function qt(r,n,e){const t=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${t} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ht=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,It=/^'([^]*?)'?$/,Ft=/''/g,Rt=/[a-zA-Z]/;function Qt(r,n,e){var w,m,M,T,O,N,L,W;const t=A(),a=(e==null?void 0:e.locale)??t.locale??xe,s=(e==null?void 0:e.firstWeekContainsDate)??((m=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:m.firstWeekContainsDate)??t.firstWeekContainsDate??((T=(M=t.locale)==null?void 0:M.options)==null?void 0:T.firstWeekContainsDate)??1,i=(e==null?void 0:e.weekStartsOn)??((N=(O=e==null?void 0:e.locale)==null?void 0:O.options)==null?void 0:N.weekStartsOn)??t.weekStartsOn??((W=(L=t.locale)==null?void 0:L.options)==null?void 0:W.weekStartsOn)??0,c=k(r);if(!Ue(c))throw new RangeError("Invalid time value");const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a,_originalDate:c};return n.match(Lt).map(function(P){const Y=P[0];if(Y==="p"||Y==="P"){const C=S[Y];return C(P,a.formatLong)}return P}).join("").match(Ht).map(function(P){if(P==="''")return"'";const Y=P[0];if(Y==="'")return At(P);const C=_t[Y];if(C)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Pe(P)&&V(P,n,String(r)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Me(P)&&V(P,n,String(r)),C(c,P,a.localize,u);if(Y.match(Rt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return P}).join("")}function At(r){const n=r.match(It);return n?n[1].replace(Ft,"'"):r}function Bt(){return Object.assign({},A())}function Gt(r){let e=k(r).getDay();return e===0&&(e=7),e}function Xt(r,n){const e=n instanceof Date?b(n,0):new n(0);return e.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),e.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e}const $t=10;class ke{constructor(){o(this,"subPriority",0)}validate(n,e){return!0}}class jt extends ke{constructor(n,e,t,a,s){super(),this.value=n,this.validateValue=e,this.setValue=t,this.priority=a,s&&(this.subPriority=s)}validate(n,e){return this.validateValue(n,this.value,e)}set(n,e,t){return this.setValue(n,e,this.value,t)}}class Ut extends ke{constructor(){super(...arguments);o(this,"priority",$t);o(this,"subPriority",-1)}set(e,t){return t.timestampIsSet?e:b(e,Xt(e,Date))}}class f{run(n,e,t,a){const s=this.parse(n,e,t,a);return s?{setter:new jt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(n,e,t){return!0}}class Vt extends f{constructor(){super(...arguments);o(this,"priority",140);o(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});case"GGGG":default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}const D={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},v={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function p(r,n){return r&&{value:n(r.value),rest:r.rest}}function g(r,n){const e=n.match(r);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function E(r,n){const e=n.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:n.slice(1)};const t=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:t*(a*te+s*ee+i*Be),rest:n.slice(e[0].length)}}function Oe(r){return g(D.anyDigitsSigned,r)}function x(r,n){switch(r){case 1:return g(D.singleDigit,n);case 2:return g(D.twoDigits,n);case 3:return g(D.threeDigits,n);case 4:return g(D.fourDigits,n);default:return g(new RegExp("^\\d{1,"+r+"}"),n)}}function z(r,n){switch(r){case 1:return g(D.singleDigitSigned,n);case 2:return g(D.twoDigitsSigned,n);case 3:return g(D.threeDigitsSigned,n);case 4:return g(D.fourDigitsSigned,n);default:return g(new RegExp("^-?\\d{1,"+r+"}"),n)}}function re(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ye(r,n){const e=n>0,t=e?n:1-n;let a;if(t<=50)a=r||100;else{const s=t+50,i=Math.floor(s/100)*100,c=r>=s%100;a=r+i-(c?100:0)}return e?a:1-a}function Ne(r){return r%400===0||r%4===0&&r%100!==0}class zt extends f{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return p(x(4,e),s);case"yo":return p(a.ordinalNumber(e,{unit:"year"}),s);default:return p(x(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const s=e.getFullYear();if(a.isTwoDigitYear){const c=Ye(a.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class Zt extends f{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return p(x(4,e),s);case"Yo":return p(a.ordinalNumber(e,{unit:"year"}),s);default:return p(x(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,s){const i=ne(e,s);if(a.isTwoDigitYear){const u=Ye(a.year,i);return e.setFullYear(u,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),H(e,s)}const c=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),H(e,s)}}class Jt extends f{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return z(t==="R"?4:t.length,e)}set(e,t,a){const s=b(e,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Q(s)}}class Kt extends f{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return z(t==="u"?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class St extends f{constructor(){super(...arguments);o(this,"priority",120);o(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return x(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class en extends f{constructor(){super(...arguments);o(this,"priority",120);o(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return x(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class tn extends f{constructor(){super(...arguments);o(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);o(this,"priority",110)}parse(e,t,a){const s=i=>i-1;switch(t){case"M":return p(g(D.month,e),s);case"MM":return p(x(2,e),s);case"Mo":return p(a.ordinalNumber(e,{unit:"month"}),s);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}class nn extends f{constructor(){super(...arguments);o(this,"priority",110);o(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const s=i=>i-1;switch(t){case"L":return p(g(D.month,e),s);case"LL":return p(x(2,e),s);case"Lo":return p(a.ordinalNumber(e,{unit:"month"}),s);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}function rn(r,n,e){const t=k(r),a=pe(t,e)-n;return t.setDate(t.getDate()-a*7),t}class an extends f{constructor(){super(...arguments);o(this,"priority",100);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return g(D.week,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,s){return H(rn(e,a,s),s)}}function sn(r,n){const e=k(r),t=De(e)-n;return e.setDate(e.getDate()-t*7),e}class on extends f{constructor(){super(...arguments);o(this,"priority",100);o(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return g(D.week,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return Q(sn(e,a))}}const cn=[31,28,31,30,31,30,31,31,30,31,30,31],un=[31,29,31,30,31,30,31,31,30,31,30,31];class dn extends f{constructor(){super(...arguments);o(this,"priority",90);o(this,"subPriority",1);o(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return g(D.date,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const a=e.getFullYear(),s=Ne(a),i=e.getMonth();return s?t>=1&&t<=un[i]:t>=1&&t<=cn[i]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}}class ln extends f{constructor(){super(...arguments);o(this,"priority",90);o(this,"subpriority",1);o(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return g(D.dayOfYear,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return x(t.length,e)}}validate(e,t){const a=e.getFullYear();return Ne(a)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}}function ae(r,n,e){var m,M,T,O;const t=A(),a=(e==null?void 0:e.weekStartsOn)??((M=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:M.weekStartsOn)??t.weekStartsOn??((O=(T=t.locale)==null?void 0:T.options)==null?void 0:O.weekStartsOn)??0,s=k(r),i=s.getDay(),u=(n%7+7)%7,d=7-a,w=n<0||n>6?n-(i+d)%7:(u+d)%7-(i+d)%7;return ge(s,w)}class fn extends f{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=ae(e,a,s),e.setHours(0,0,0,0),e}}class hn extends f{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,s){const i=c=>{const u=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+u};switch(t){case"e":case"ee":return p(x(t.length,e),i);case"eo":return p(a.ordinalNumber(e,{unit:"day"}),i);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=ae(e,a,s),e.setHours(0,0,0,0),e}}class mn extends f{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,s){const i=c=>{const u=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+u};switch(t){case"c":case"cc":return p(x(t.length,e),i);case"co":return p(a.ordinalNumber(e,{unit:"day"}),i);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=ae(e,a,s),e.setHours(0,0,0,0),e}}function wn(r,n){const e=k(r),t=Gt(e),a=n-t;return ge(e,a)}class gn extends f{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const s=i=>i===0?7:i;switch(t){case"i":case"ii":return x(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return p(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return p(a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return p(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return p(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return e=wn(e,a),e.setHours(0,0,0,0),e}}class yn extends f{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(re(a),0,0,0),e}}class bn extends f{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(re(a),0,0,0),e}}class xn extends f{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(re(a),0,0,0),e}}class Dn extends f{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return g(D.hour12h,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const s=e.getHours()>=12;return s&&a<12?e.setHours(a+12,0,0,0):!s&&a===12?e.setHours(0,0,0,0):e.setHours(a,0,0,0),e}}class pn extends f{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return g(D.hour23h,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}}class Tn extends f{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return g(D.hour11h,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}}class Mn extends f{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return g(D.hour24h,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return x(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const s=a<=24?a%24:a;return e.setHours(s,0,0,0),e}}class Pn extends f{constructor(){super(...arguments);o(this,"priority",60);o(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return g(D.minute,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}}class kn extends f{constructor(){super(...arguments);o(this,"priority",50);o(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return g(D.second,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return x(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}}class On extends f{constructor(){super(...arguments);o(this,"priority",30);o(this,"incompatibleTokens",["t","T"])}parse(e,t){const a=s=>Math.floor(s*Math.pow(10,-t.length+3));return p(x(t.length,e),a)}set(e,t,a){return e.setMilliseconds(a),e}}class Yn extends f{constructor(){super(...arguments);o(this,"priority",10);o(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return E(v.basicOptionalMinutes,e);case"XX":return E(v.basic,e);case"XXXX":return E(v.basicOptionalSeconds,e);case"XXXXX":return E(v.extendedOptionalSeconds,e);case"XXX":default:return E(v.extended,e)}}set(e,t,a){return t.timestampIsSet?e:b(e,e.getTime()-U(e)-a)}}class Nn extends f{constructor(){super(...arguments);o(this,"priority",10);o(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return E(v.basicOptionalMinutes,e);case"xx":return E(v.basic,e);case"xxxx":return E(v.basicOptionalSeconds,e);case"xxxxx":return E(v.extendedOptionalSeconds,e);case"xxx":default:return E(v.extended,e)}}set(e,t,a){return t.timestampIsSet?e:b(e,e.getTime()-U(e)-a)}}class _n extends f{constructor(){super(...arguments);o(this,"priority",40);o(this,"incompatibleTokens","*")}parse(e){return Oe(e)}set(e,t,a){return[b(e,a*1e3),{timestampIsSet:!0}]}}class vn extends f{constructor(){super(...arguments);o(this,"priority",20);o(this,"incompatibleTokens","*")}parse(e){return Oe(e)}set(e,t,a){return[b(e,a),{timestampIsSet:!0}]}}const En={G:new Vt,y:new zt,Y:new Zt,R:new Jt,u:new Kt,Q:new St,q:new en,M:new tn,L:new nn,w:new an,I:new on,d:new dn,D:new ln,E:new fn,e:new hn,c:new mn,i:new gn,a:new yn,b:new bn,B:new xn,h:new Dn,H:new pn,K:new Tn,k:new Mn,m:new Pn,s:new kn,S:new On,X:new Yn,x:new Nn,t:new _n,T:new vn},Wn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qn=/^'([^]*?)'?$/,Hn=/''/g,Ln=/\S/,In=/[a-zA-Z]/;function Fn(r,n,e,t){var N,L,W,P,Y,C,$,se;const a=Bt(),s=(t==null?void 0:t.locale)??a.locale??xe,i=(t==null?void 0:t.firstWeekContainsDate)??((L=(N=t==null?void 0:t.locale)==null?void 0:N.options)==null?void 0:L.firstWeekContainsDate)??a.firstWeekContainsDate??((P=(W=a.locale)==null?void 0:W.options)==null?void 0:P.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((C=(Y=t==null?void 0:t.locale)==null?void 0:Y.options)==null?void 0:C.weekStartsOn)??a.weekStartsOn??((se=($=a.locale)==null?void 0:$.options)==null?void 0:se.weekStartsOn)??0;if(n==="")return r===""?k(e):b(e,NaN);const u={firstWeekContainsDate:i,weekStartsOn:c,locale:s},d=[new Ut],w=n.match(Cn).map(l=>{const y=l[0];if(y in S){const _=S[y];return _(l,s.formatLong)}return l}).join("").match(Wn),m=[];for(let l of w){!(t!=null&&t.useAdditionalWeekYearTokens)&&Pe(l)&&V(l,n,r),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Me(l)&&V(l,n,r);const y=l[0],_=En[y];if(_){const{incompatibleTokens:ie}=_;if(Array.isArray(ie)){const oe=m.find(ce=>ie.includes(ce.token)||ce.token===y);if(oe)throw new RangeError(`The format string mustn't contain \`${oe.fullToken}\` and \`${l}\` at the same time`)}else if(_.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${l}\` and any other token at the same time`);m.push({token:y,fullToken:l});const Z=_.run(r,l,s.match,u);if(!Z)return b(e,NaN);d.push(Z.setter),r=Z.rest}else{if(y.match(In))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(l==="''"?l="'":y==="'"&&(l=Rn(l)),r.indexOf(l)===0)r=r.slice(l.length);else return b(e,NaN)}}if(r.length>0&&Ln.test(r))return b(e,NaN);const M=d.map(l=>l.priority).sort((l,y)=>y-l).filter((l,y,_)=>_.indexOf(l)===y).map(l=>d.filter(y=>y.priority===l).sort((y,_)=>_.subPriority-y.subPriority)).map(l=>l[0]);let T=k(e);if(isNaN(T.getTime()))return b(e,NaN);const O={};for(const l of M){if(!l.validate(T,u))return b(e,NaN);const y=l.set(T,O,u);Array.isArray(y)?(T=y[0],Object.assign(O,y[1])):T=y}return b(e,T)}function Rn(r){return r.match(qn)[1].replace(Hn,"'")}function Qn(r,n){const e=(n==null?void 0:n.additionalDigits)??2,t=Xn(r);let a;if(t.date){const u=$n(t.date,e);a=jn(u.restDateString,u.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const s=a.getTime();let i=0,c;if(t.time&&(i=Un(t.time),isNaN(i)))return new Date(NaN);if(t.timezone){if(c=Vn(t.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(s+i),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(s+i+c)}const j={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},An=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bn=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Xn(r){const n={},e=r.split(j.dateTimeDelimiter);let t;if(e.length>2)return n;if(/:/.test(e[0])?t=e[0]:(n.date=e[0],t=e[1],j.timeZoneDelimiter.test(n.date)&&(n.date=r.split(j.timeZoneDelimiter)[0],t=r.substr(n.date.length,r.length))),t){const a=j.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function $n(r,n){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),t=r.match(e);if(!t)return{year:NaN,restDateString:""};const a=t[1]?parseInt(t[1]):null,s=t[2]?parseInt(t[2]):null;return{year:s===null?a:s*100,restDateString:r.slice((t[1]||t[2]).length)}}function jn(r,n){if(n===null)return new Date(NaN);const e=r.match(An);if(!e)return new Date(NaN);const t=!!e[4],a=X(e[1]),s=X(e[2])-1,i=X(e[3]),c=X(e[4]),u=X(e[5])-1;if(t)return Sn(n,c,u)?zn(n,c,u):new Date(NaN);{const d=new Date(0);return!Jn(n,s,i)||!Kn(n,a)?new Date(NaN):(d.setUTCFullYear(n,s,Math.max(a,i)),d)}}function X(r){return r?parseInt(r):1}function Un(r){const n=r.match(Bn);if(!n)return NaN;const e=K(n[1]),t=K(n[2]),a=K(n[3]);return er(e,t,a)?e*te+t*ee+a*1e3:NaN}function K(r){return r&&parseFloat(r.replace(",","."))||0}function Vn(r){if(r==="Z")return 0;const n=r.match(Gn);if(!n)return 0;const e=n[1]==="+"?-1:1,t=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return tr(t,a)?e*(t*te+a*ee):NaN}function zn(r,n,e){const t=new Date(0);t.setUTCFullYear(r,0,4);const a=t.getUTCDay()||7,s=(n-1)*7+e+1-a;return t.setUTCDate(t.getUTCDate()+s),t}const Zn=[31,null,31,30,31,30,31,31,30,31,30,31];function _e(r){return r%400===0||r%4===0&&r%100!==0}function Jn(r,n,e){return n>=0&&n<=11&&e>=1&&e<=(Zn[n]||(_e(r)?29:28))}function Kn(r,n){return n>=1&&n<=(_e(r)?366:365)}function Sn(r,n,e){return n>=1&&n<=53&&e>=0&&e<=6}function er(r,n,e){return r===24?n===0&&e===0:e>=0&&e<60&&n>=0&&n<60&&r>=0&&r<25}function tr(r,n){return n>=0&&n<=59}const nr="dd/MM/yyyy",rr="dd MMM yyyy",ar=(r,n=nr)=>Fn(r,n,new Date),wr=(r,n=rr)=>Qt(Qn(r),n),we=(r=[])=>r.reduce((n,e)=>(n+=typeof e=="number"?e:e.amount,n),0),gr=r=>r.map(n=>({date:ar(n[0]),transactionSource:n[1],amount:Number(n[2].replaceAll(",",""))})),yr=r=>{const n=Object.groupBy(r,e=>{var t;return((t=e.source)==null?void 0:t.name)??"others"});return delete n.others,Object.keys(n).map(e=>{var u,d,w;const t=(d=(u=n[e])==null?void 0:u[0].source)==null?void 0:d.isExpense,a=((w=n[e])==null?void 0:w[0].accountType)==="account",s=Object.groupBy(n[e]??[],m=>{var M;return((M=m.group)==null?void 0:M.name)??"misc"}),i=Object.keys(s).map(m=>{var T,O;const M=we(s[m]);return{groupName:m,amount:M,budget:(O=(T=s[m])==null?void 0:T[0].group)==null?void 0:O.budget}}),c=we(i);return{title:e,isExpense:t,isAccount:a,total:c,transactions:i}})};export{fr as A,lr as L,dr as M,gr as a,wr as f,yr as g,hr as i,we as t,mr as u};
