import{r as s,j as e,o as C,p as r,F as g,B as k}from"./vendor--6RsP4g0.js";import{w as v,s as y}from"./index-nnXxpM_p.js";import{G as A}from"./defineProperty-mzNCr1T6.js";import{u as D}from"./useSourceSettings-mIK861Fa.js";import"./index-bwkiEfyT.js";const F=(h,m,c)=>[{headerName:"Name",field:"name"},{headerName:"Expense flag",field:"isExpense"},{headerName:"Chart Color",field:"chartColor",width:100,cellStyle:d=>({backgroundColor:d.value,color:"white"})},{headerName:"Action",type:"rightAligned",width:140,cellRenderer:"rowActionCellRenderer",cellRendererParams:{deleteItem:h,toggleItem:m,editItem:c}}],I=()=>{const{error:h,sourceList:m,onDelete:c,onSave:d,onToggleStatus:j,onUpdate:S}=D(),[i,b]=s.useState(null),[a,u]=s.useState("#000000"),[l,x]=s.useState(""),[o,p]=s.useState(null),n=s.useCallback(()=>{b(null),x(""),u(""),p(null)},[]),w=s.useCallback(()=>{d(l,a,o).then(()=>{n()})},[d,l,a,o,n]),E=s.useCallback(()=>{S(i,l,a,o).then(()=>{n()})},[S,i,l,a,o,n]),f=s.useCallback(t=>{b(t.id),x(t.name),u(t.chartColor),p(t.isExpense)},[]),N=s.useMemo(()=>F(c,j,f),[c,j,f]);return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Source Settings"}),e.jsxs(C,{className:"mb-2",children:[e.jsx(r,{sm:4,children:e.jsx(g.Control,{placeholder:"Enter Label",value:l,onChange:t=>x(t.target.value)})}),e.jsx(r,{sm:1,children:e.jsx(g.Check,{onChange:t=>p(t.target.checked),checked:o,label:"Expense",type:"checkbox"})}),e.jsx(r,{sm:1,children:e.jsx(g.Control,{type:"color",value:a,onChange:t=>u(t.target.value),title:"Choose your color"})})]}),e.jsx(C,{children:e.jsxs(r,{className:"text-end",children:[e.jsx(k,{className:"mx-2",disabled:!l||!a,onClick:i?E:w,children:i?"Update":"Add Source"}),e.jsx(k,{variant:"outline-secondary",onClick:n,children:"Clear"})]})}),e.jsx(C,{children:e.jsxs(r,{children:[e.jsx("p",{children:h}),e.jsx(A,{colDefs:N,rowData:m,components:y})]})})]})},M=v(I);export{I as SourceSettings,M as default};
